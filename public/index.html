<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/apple-touch-icon.png" />
    <link rel="shortcut icon" href="%PUBLIC_URL%/apple-touch-icon.png" />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="%PUBLIC_URL%/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="%PUBLIC_URL%/favicon-16x16.png"
    />

    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <link rel="manifest" href="%PUBLIC_URL%/site.webmanifest" />

    <link rel="stylesheet" href="%PUBLIC_URL%/styles/public.css" />
    <link rel="stylesheet" href="%PUBLIC_URL%/styles/custom-variables.css" />
    <link rel="stylesheet" href="%PUBLIC_URL%/styles/mui-variables.css" />
    <link
      rel="preload"
      as="style"
      onload="this.onload=null;this.rel='stylesheet'"
      href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
    />
    <link
      rel="preload"
      as="style"
      onload="this.onload=null;this.rel='stylesheet'"
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
    />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#1976d2" />
    <meta name="description" content="Yul-Yort Admin" />

    <title>Yul-Yort Admin</title>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root">
      <!--      Данная верстка полностью идентична с версткой в компоненте LoadingScreen -->
      <!--      Если что-то поменяется, то нужно менять в обоих местах. -->
      <!--      Начало -->
      <div id="loading-dots__wrapper">
        <div id="loading-dots">
          <div class="title">Yul</div>
          <div class="title subtitle">Yort</div>
          <div class="dot first-dots"></div>
          <div class="dot second-dots"></div>
          <div class="dot third-dots"></div>
        </div>
      </div>
      <!--    Конец-->
    </div>
    <script>
      // возвращает куки с указанным name,
      // или undefined, если ничего не найдено
      function getPublicAdminData(name) {
        return localStorage.getItem(name);
      }

      // Получаем имя пользователя и пишем приветственные слова.
      const data = getPublicAdminData("yy-public-admin-info");

      if (data) {
        const parsedData = JSON.parse(data);
        const loadingNode = document.getElementById("loading-dots");

        if (loadingNode && parsedData) {
          const currentDate = new Date();
          const hour = currentDate.getHours();

          let greetingsEl = document.createElement("div");
          greetingsEl.classList.add("greetings-node");
          let greetingWords;

          if (hour < 5) {
            greetingWords = "Доброй ночи";
          } else if (hour < 12) {
            greetingWords = "Доброе утро";
          } else if (hour < 17) {
            greetingWords = "Добрый день";
          } else {
            greetingWords = "Добрый вечер";
          }

          if (parsedData.firstName) {
            greetingWords += `, ${parsedData.firstName}`;
          }

          greetingsEl.innerHTML = `${greetingWords}!`;
          loadingNode.append(greetingsEl);
        }
      }
    </script>
  </body>
</html>
